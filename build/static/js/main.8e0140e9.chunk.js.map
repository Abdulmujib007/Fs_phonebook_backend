{"version":3,"sources":["components/Filter.jsx","components/Personform.jsx","components/Persons.jsx","components/additions.jsx","components/Notification.jsx","App.js","index.js"],"names":["Filter","searchBy","handleSearchChange","value","onChange","Personform","addName","newName","handleNameChange","number","handleNumberChange","onSubmit","style","display","flexDirection","width","required","marginTop","type","Persons","persons","handleDelete","filter","name","toLowerCase","includes","map","valIndex","listStyle","onClick","id","newContent","axios","post","then","data","get","newObject","put","delete","Notification","message","console","log","padding","borderTop","borderBottom","color","marginBottom","App","useState","setPersons","setNewName","setNumber","setSearchBy","errorMessage","setErrorMessage","useEffect","personAdditions","initalPersons","catch","err","error","e","target","preventDefault","compare","toLocaleLowerCase","length","window","confirm","item","response","setTimeout","concat","uniqueid","deletedVal","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8e0140e9.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ searchBy, handleSearchChange }) => {\n  return (\n    <div>\n      <span>filter shown with </span>{\" \"}\n      <input value={searchBy} onChange={handleSearchChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Personform = ({\n  addName,\n  newName,\n  handleNameChange,\n  number,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addName}>\n      <div style={{ display: \"flex\", flexDirection: \"column\", width: \"20%\" }}>\n        name: <input required value={newName} onChange={handleNameChange} />\n        <br />\n        number: <input required value={number} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button style={{ marginTop: \"5px\" }} type=\"submit\">\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default Personform;\n","import React from \"react\";\n\nconst Persons = ({ searchBy, persons, handleDelete }) => {\n  return (\n    <ul>\n      {searchBy\n        ? persons\n            .filter((value) =>\n              value.name.toLowerCase().includes(searchBy.toLowerCase())\n            )\n            .map((value, valIndex) => (\n              <li key={valIndex} style={{ listStyle: \"none\" }}>\n                {value.name} {value.number}{\" \"}\n                {<button onClick={() => handleDelete(value.id)}>delete</button>}\n              </li>\n            ))\n        : persons.map((value, valIndex) => (\n            <li key={valIndex} style={{ listStyle: \"none\", marginTop: \"1rem\" }}>\n              {value.name} {value.number}{\" \"}\n              {<button onClick={() => handleDelete(value.id)}>delete</button>}\n            </li>\n          ))}\n    </ul>\n  );\n};\nexport default Persons;\n","import axios from \"axios\";\n\nconst addMore = (newContent) => {\n  return axios\n    .post(\"/api/persons\", newContent)\n    .then(({ data }) => data);\n};\n\nconst getAll = () => {\n  return axios.get(\"/api/persons\").then(({ data }) => data);\n};\n\nconst update = (id, newObject) => {\n  return axios\n    .put(`/api/persons/${id}`, newObject)\n    .then(({ data }) => data);\n};\nconst deletePerson = (id) => {\n  return axios\n    .delete(`/api/persons/${id}`)\n    .then(({ data }) => data);\n};\n\nexport default { addMore, getAll, update, deletePerson };\n\n","import React from \"react\";\n// import './notification.css'\n\nconst Notification = ({ message }) => {\n    const green = { padding: \"0.5rem\",\n    borderTop: \"2px solid lightgreen\",\n    borderBottom: \"2px solid lightgreen\",\n    color: \"green\",   \n    marginBottom : '1rem'}\n\n    const red = { padding: \"0.5rem\",\n    borderTop: \"2px solid red\",\n    borderBottom: \"2px solid red\",\n    color: \"red\",\n    marginBottom : '1rem'}\n    console.log(message)\n  if (!message) return null;\n  return (\n    <div style={ message.includes('Added') ? green : red }>\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Personform from \"./components/Personform\";\nimport Persons from \"./components/Persons\";\nimport personAdditions from \"./components/additions\";\nimport Notification  from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [searchBy, setSearchBy] = useState(\"\");\n  const [errorMessage,setErrorMessage] = useState('')\n\n  useEffect(() => {\n    personAdditions\n      .getAll()\n      .then((initalPersons) => setPersons(initalPersons))\n      .catch((err) => console.error(err));\n  }, []);\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleSearchChange = (e) => setSearchBy(e.target.value);\n  const handleNumberChange = (e) => setNumber(e.target.value);\n\n  const newContent = { name: newName, number: number };\n\n  const addName = (e) => {\n    e.preventDefault();\n    const compare = persons.filter(\n      (value) =>\n        value.name.toLocaleLowerCase() === newContent.name.toLocaleLowerCase()\n    )\n    compare.length ? (\n      <>\n        {window.confirm(\"This name already exist,replace the old number\") ===\n        true\n          ? personAdditions.update(compare[0].id, newContent).then((value) => {\n              setPersons(\n                persons.map((item) =>\n                  item.id !== compare[0].id ? item : value\n                )\n              );\n            })\n            .catch(err => {\n               if(err.response.data) setErrorMessage(err.response.data.error)\n               else setErrorMessage(`This name was already removed from the server`)\n                setTimeout(() => {\n                  setErrorMessage('')\n                },3000);\n            })\n          : \"\"}\n      </>\n    ) : (\n      personAdditions\n        .addMore(newContent)\n        .then((response) => \n        {\n          setPersons(persons.concat(response))\n          setErrorMessage(`Added  ${response.name}` \n          )\n          setTimeout(() => {\n             setErrorMessage('')\n          }, 3000);\n        })\n        .catch(error => {\n          console.log(error.response.data.error,typeof error.response.data.error)\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage('')\n         }, 3000);\n        })\n    );\n    setNewName(\"\");\n    setNumber(\"\");\n  };\n  const handleDelete = (uniqueid) => {\n    if (\n      window.confirm(\n        `Delete ${persons.filter(({ id }) => uniqueid === id)[0].name}`\n      ) === true\n    ) {\n      personAdditions.deletePerson(uniqueid).then((deletedVal) => {\n        setPersons(persons.filter(({ id }) => id !== uniqueid));\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message = {errorMessage}/>\n      <Filter searchBy={searchBy} handleSearchChange={handleSearchChange} />\n      <h3>Add a new</h3>\n      <Personform\n        addName={addName}\n        newName={newName}\n        number={number}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        searchBy={searchBy}\n        persons={persons}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}